<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Simulated dataset | Data visulisation using R, for researchers who don’t use R</title>
  <meta name="description" content="Chapter 2 Simulated dataset | Data visulisation using R, for researchers who don’t use R" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Simulated dataset | Data visulisation using R, for researchers who don’t use R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Simulated dataset | Data visulisation using R, for researchers who don’t use R" />
  
  
  

<meta name="author" content="Emily Nordmann, Phil McAleer, Wilhelmiina Toivo, Helena Paterson, Lisa DeBruine" />


<meta name="date" content="2021-11-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction.html"/>
<link rel="next" href="chapter-2.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<meta property="og:title" content="psyTeachR Book Template">
<meta property="og:description" content="Guide for psyTeachR course books.">
<meta property="og:image" content="https://psyteachr.github.io/images/twitter/psyteachr.png">
<meta property="og:url" content="https://psyteachr.github.io/book-template/">
<meta property="twitter:card" content="summary_large_image">

<link rel="shortcut icon" href="https://psyteachr.github.io/images/logo.png">


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="include/psyteachr.css" type="text/css" />
<link rel="stylesheet" href="include/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro Viz</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#why-r-for-data-visualisation"><i class="fa fa-check"></i><b>1.1</b> Why R for data visualisation?</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#a-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>1.2</b> A layered grammar of graphics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="simulated-dataset.html"><a href="simulated-dataset.html"><i class="fa fa-check"></i><b>2</b> Simulated dataset</a>
<ul>
<li class="chapter" data-level="2.1" data-path="simulated-dataset.html"><a href="simulated-dataset.html#setting-up-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Setting up R and RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="simulated-dataset.html"><a href="simulated-dataset.html#preparing-your-data"><i class="fa fa-check"></i><b>2.2</b> Preparing your data</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="simulated-dataset.html"><a href="simulated-dataset.html#data-format"><i class="fa fa-check"></i><b>2.2.1</b> Data format</a></li>
<li class="chapter" data-level="2.2.2" data-path="simulated-dataset.html"><a href="simulated-dataset.html#variable-names"><i class="fa fa-check"></i><b>2.2.2</b> Variable names</a></li>
<li class="chapter" data-level="2.2.3" data-path="simulated-dataset.html"><a href="simulated-dataset.html#data-values"><i class="fa fa-check"></i><b>2.2.3</b> Data values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter-2.html"><a href="chapter-2.html"><i class="fa fa-check"></i><b>3</b> Chapter 2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="chapter-2.html"><a href="chapter-2.html#loading-packages"><i class="fa fa-check"></i><b>3.1</b> Loading packages</a></li>
<li class="chapter" data-level="3.2" data-path="chapter-2.html"><a href="chapter-2.html#loading-data"><i class="fa fa-check"></i><b>3.2</b> Loading data</a></li>
<li class="chapter" data-level="3.3" data-path="chapter-2.html"><a href="chapter-2.html#handling-numeric-factors"><i class="fa fa-check"></i><b>3.3</b> Handling numeric factors</a></li>
<li class="chapter" data-level="3.4" data-path="chapter-2.html"><a href="chapter-2.html#argument-names"><i class="fa fa-check"></i><b>3.4</b> Argument names</a></li>
<li class="chapter" data-level="3.5" data-path="chapter-2.html"><a href="chapter-2.html#demographic-information"><i class="fa fa-check"></i><b>3.5</b> Demographic information</a></li>
<li class="chapter" data-level="3.6" data-path="chapter-2.html"><a href="chapter-2.html#bar-chart-of-counts"><i class="fa fa-check"></i><b>3.6</b> Bar chart of counts</a></li>
<li class="chapter" data-level="3.7" data-path="chapter-2.html"><a href="chapter-2.html#histogram"><i class="fa fa-check"></i><b>3.7</b> Histogram</a></li>
<li class="chapter" data-level="3.8" data-path="chapter-2.html"><a href="chapter-2.html#customisation-1"><i class="fa fa-check"></i><b>3.8</b> Customisation 1</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="chapter-2.html"><a href="chapter-2.html#editing-axis-names-and-labels"><i class="fa fa-check"></i><b>3.8.1</b> Editing axis names and labels</a></li>
<li class="chapter" data-level="3.8.2" data-path="chapter-2.html"><a href="chapter-2.html#changing-colors"><i class="fa fa-check"></i><b>3.8.2</b> Changing colors</a></li>
<li class="chapter" data-level="3.8.3" data-path="chapter-2.html"><a href="chapter-2.html#adding-a-theme"><i class="fa fa-check"></i><b>3.8.3</b> Adding a theme</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="chapter-2.html"><a href="chapter-2.html#activities-1"><i class="fa fa-check"></i><b>3.9</b> Activities 1</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chapter-3.html"><a href="chapter-3.html"><i class="fa fa-check"></i><b>4</b> Chapter 3</a>
<ul>
<li class="chapter" data-level="4.1" data-path="chapter-3.html"><a href="chapter-3.html#data-formats"><i class="fa fa-check"></i><b>4.1</b> Data formats</a></li>
<li class="chapter" data-level="4.2" data-path="chapter-3.html"><a href="chapter-3.html#transforming-data"><i class="fa fa-check"></i><b>4.2</b> Transforming data</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="chapter-3.html"><a href="chapter-3.html#step-1-pivot_longer"><i class="fa fa-check"></i><b>4.2.1</b> Step 1: <code>pivot_longer()</code></a></li>
<li class="chapter" data-level="4.2.2" data-path="chapter-3.html"><a href="chapter-3.html#step-2-pivot_wider"><i class="fa fa-check"></i><b>4.2.2</b> Step 2: <code>pivot_wider()</code></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="chapter-3.html"><a href="chapter-3.html#histogram-2"><i class="fa fa-check"></i><b>4.3</b> Histogram 2</a></li>
<li class="chapter" data-level="4.4" data-path="chapter-3.html"><a href="chapter-3.html#density-plots"><i class="fa fa-check"></i><b>4.4</b> Density plots</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="chapter-3.html"><a href="chapter-3.html#grouped-density-plots"><i class="fa fa-check"></i><b>4.4.1</b> Grouped density plots</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="chapter-3.html"><a href="chapter-3.html#scatterplots"><i class="fa fa-check"></i><b>4.5</b> Scatterplots</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="chapter-3.html"><a href="chapter-3.html#grouped-scatterplots"><i class="fa fa-check"></i><b>4.5.1</b> Grouped scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="chapter-3.html"><a href="chapter-3.html#customisation-2"><i class="fa fa-check"></i><b>4.6</b> Customisation 2</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="chapter-3.html"><a href="chapter-3.html#accessible-color-schemes"><i class="fa fa-check"></i><b>4.6.1</b> Accessible color schemes</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="chapter-3.html"><a href="chapter-3.html#activities-2"><i class="fa fa-check"></i><b>4.7</b> Activities 2</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chapter-4.html"><a href="chapter-4.html"><i class="fa fa-check"></i><b>5</b> Chapter 4</a>
<ul>
<li class="chapter" data-level="5.1" data-path="chapter-4.html"><a href="chapter-4.html#boxplots"><i class="fa fa-check"></i><b>5.1</b> Boxplots</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="chapter-4.html"><a href="chapter-4.html#grouped-boxplots"><i class="fa fa-check"></i><b>5.1.1</b> Grouped boxplots</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chapter-4.html"><a href="chapter-4.html#violin-plots"><i class="fa fa-check"></i><b>5.2</b> Violin plots</a></li>
<li class="chapter" data-level="5.3" data-path="chapter-4.html"><a href="chapter-4.html#bar-chart-of-means"><i class="fa fa-check"></i><b>5.3</b> Bar chart of means</a></li>
<li class="chapter" data-level="5.4" data-path="chapter-4.html"><a href="chapter-4.html#violin-boxplot"><i class="fa fa-check"></i><b>5.4</b> Violin-boxplot</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="chapter-4.html"><a href="chapter-4.html#grouped-violin-boxplots"><i class="fa fa-check"></i><b>5.4.1</b> Grouped violin-boxplots</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="chapter-4.html"><a href="chapter-4.html#customisation-part-3"><i class="fa fa-check"></i><b>5.5</b> Customisation part 3</a></li>
<li class="chapter" data-level="5.6" data-path="chapter-4.html"><a href="chapter-4.html#activities-3"><i class="fa fa-check"></i><b>5.6</b> Activities 3</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chapter-5.html"><a href="chapter-5.html"><i class="fa fa-check"></i><b>6</b> Chapter 5</a>
<ul>
<li class="chapter" data-level="6.1" data-path="chapter-5.html"><a href="chapter-5.html#interaction-plots"><i class="fa fa-check"></i><b>6.1</b> Interaction plots</a></li>
</ul></li>
<li class="chapter" data-level="" data-path=""><a href="#appendix-appendices"><i class="fa fa-check"></i>(APPENDIX) Appendices</a>
<ul>
<li class="chapter" data-level="6.2" data-path="01-ch1.html"><a href="#additional-resources"><i class="fa fa-check"></i><b>6.2</b> Additional resources</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="chapter-5.html"><a href="chapter-5.html#renaming-variables"><i class="fa fa-check"></i><b>6.2.1</b> Renaming variables</a></li>
<li class="chapter" data-level="6.2.2" data-path="chapter-5.html"><a href="chapter-5.html#custom-themes"><i class="fa fa-check"></i><b>6.2.2</b> Custom themes</a></li>
<li class="chapter" data-level="6.2.3" data-path="chapter-5.html"><a href="chapter-5.html#pivot-longer-examples"><i class="fa fa-check"></i><b>6.2.3</b> Pivot longer examples</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" 
    target="blank"><img alt="Creative Commons License" 
    style="border-width:0" 
    src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><li>
<li><a href="https://psyteachr.github.io/" target="blank">PsyTeachR</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data visulisation using R, for researchers who don’t use R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simulated-dataset" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Simulated dataset</h1>
<p>For the purpose of this tutorial, we will use simulated data for a 2 x 2 mixed-design Stroop test experiment. There are 100 rows (1 for each subject) and 7 variables:</p>
<ul>
<li>Participant information:
<ul>
<li><code>id</code>: Participant ID</li>
<li><code>age</code>: Age</li>
</ul></li>
<li>1 between-subject IV:
<ul>
<li><code>language</code>: Language group (1 = monolingual/2 = bilingual)</li>
</ul></li>
<li>4 columns for the 2 dependent variables for RT and accuracy, crossed by the within-subject IV of condition:
<ul>
<li><code>rt</code>_cong`: Reaction time (ms) for congruent trials</li>
<li><code>rt</code>_incon`: Reaction time (ms) for incongruent trials</li>
<li><code>acc_cong</code>: Accuracy for congruent trials</li>
<li><code>acc_incon</code>: Accuracy for incongruent trials</li>
</ul></li>
</ul>
<p>The simulated dataset and tutorial code can be found in the online supplementary materials. For newcomers to R, we would suggest working through this tutorial with the simulated dataset, then extending the code to your own datasets with a similar structure, and finally generalising the code to new structures and problems.</p>
<div id="setting-up-r-and-rstudio" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Setting up R and RStudio</h2>
<p>We strongly encourage the use of RStudio to write code in R. R is the programming language whilst RStudio is an <em>integrated development environment</em> that makes working with R easier. More information on installing both R and RStudio can be found in the additional resources.</p>
<p>Projects are a useful way of keeping all your code, data, and output in one place. To create a new project, open RStudio and click <code>File - New Project - New Directory - New Project</code>. You will be prompted to give the project a name, and select a location for where to store the project on your computer. Once you have done this, click <code>Create Project</code>. Download the simulated dataset from the online materials and save the file ( <code>stroop_data.csv</code>) to this folder. The files pane on the bottom right of RStudio should now display this folder and the files it contains - this is known as your <em>working directory</em> and it is where R will look for any data you wish to import and where it will save any output you create.</p>
<p>This tutorial will require you to use the packages contained with the <code>tidyverse</code> collection. Additionally, we will also require use of <code>patchwork</code>. To install these packages, copy and paste the below code into the console (the left hand pane) and press enter to execute the code.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="simulated-dataset.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># only run in the console, never put this in a script </span></span>
<span id="cb1-2"><a href="simulated-dataset.html#cb1-2" aria-hidden="true" tabindex="-1"></a>package_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;tidyverse&quot;</span>, <span class="st">&quot;patchwork&quot;</span>)</span>
<span id="cb1-3"><a href="simulated-dataset.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(package_list)</span></code></pre></div>
<p>Finally, so that you can save your code to return to later, open a new script <code>File - New File - R Script</code> and then save it using <code>File - Save</code>. R will default to saving the script in your project folder. This is where we will write all the tutorial code from now on. We have also provided an R Markdown copy of all below code in the supplementary materials. The reason that the install packages code is not included in the script is that every time you run the install command code it will install the latest version of the package and so leaving this code in your script can lead you to unintentionally install a package update you didn’t want. For this reason, avoid including install code in any script. R scripts (or R code chunks if you are using Markdwon) treat anything you write in them as code by default. If you wish to write a comment with further information about your code (which we encourage you to do), you must use the hashtag sign to “comment it out.”</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="simulated-dataset.html#cb2-1" aria-hidden="true" tabindex="-1"></a>this_is_code</span>
<span id="cb2-2"><a href="simulated-dataset.html#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># this is a comment</span></span></code></pre></div>
</div>
<div id="preparing-your-data" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Preparing your data</h2>
<p>Before you start visualizing your data, you need to get the data into an appropriate format. These preparatory steps can all be dealt with reproducibly using R and the additional resources section points to extra tutorials for doing so. However, performing these types of tasks in R can be difficult for new learners and the solutions and tools are dependent on the idiosyncrasies of each dataset. For this reason, in this tutorial we encourage the reader to complete these steps using the method they are most comfortable with and to focus on the aim of data visualisation.</p>
<div id="data-format" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Data format</h3>
<p>The simulated Stroop data is provided in a <code>csv</code> file rather than e.g., <code>xslx</code>. Functions exist in R to read many other types of data files, however, you can convert an <code>xlsx</code> spreadsheet to <code>csv</code> by using the <code>Save As</code> function in Microsoft Excel. Note that <code>csv</code> files strip all formatting and only store data in a single sheet; you may wish to create a <code>csv</code> file that only contains the data you wish to visualise that is part of a larger workbook. When working with your own data, any files you import should remove summary rows or additional notes and should only contains the rows and columns you want to plot.</p>
</div>
<div id="variable-names" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Variable names</h3>
<p>Ensuring that your variable names are consistent can make it much easier to work in R. We recommend using short but informative variable names, for example <code>rt_cong</code> is preferred over <code>dv1_iv1</code> or <code>reaction_time_congruent_condition</code> because these are either hard to read or hard to type.</p>
<p>It is also helpful to have a consistent naming scheme, particularly for variable names that require more than one word. Two popular options are <code>CamelCase</code> where each new word begins with a capital letter, or <code>snake_case</code> where all letters are lower case and words are separated by an underscore. For the purposes of naming variables, avoid using any spaces in variable names (e.g., <code>rt cong</code>) and consider the additional meaning of a separator beyond making the variable names easier to read. For example, <code>rt_cong</code>, <code>rt_incon</code>, <code>acc_cong</code>, and <code>acc_incon</code> all have the DV to the left of the separator and the level of the IV to the right. <code>rt_cong_condition</code> on the other hand has two separators but only one of them is meaningful and it is useful to be able to split variable names consistently. In this paper, we will use <code>snake_case</code> and lower case letters for all variable names so that we don’t have to remember where to put the capital letters.</p>
<p>When working with your own data, you can rename columns in Excel, but there are also instructions for how to do this in R in the additional resources.</p>
</div>
<div id="data-values" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Data values</h3>
<p>A great benefit to using R rather than SPSS is that categorical data can be entered as text. In the tutorial dataset, language group is entered as 1 or 2, so we can show you below how to recode numeric values into factors with labels, which also sets the order of display for graphs. However, we recommend recording meaningful labels rather than numbers to avoid misinterpreting data due to coding errors. Note that values must match <em>exactly</em> in order to be considered in the same category and R is case sensitive, so “mono,” “Mono,” and “monolingual” would be classified as members of three separate categories.</p>
<p>Finally, cells that represent missing data should be left empty rather than containing values like <code>NA</code>, <code>missing</code> or <code>0</code>. A complementary rule of thumb is that each column should only contain one type of data, such as words or numbers, not both.</p>

</div>
</div>
</div>
<div class="psyteachr_footer">
  
</div>
<script>

/* update total correct if #total_correct exists */
update_total_correct = function() {
  if (t = document.getElementById("total_correct")) {
    t.innerHTML =
      document.getElementsByClassName("correct").length + " of " +
      document.getElementsByClassName("solveme").length + " correct";
  }
}

/* solution button toggling function */
b_func = function() {
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "");
  }
  
  if (my_answer !== "" & real_answers.includes(my_answer)) {
    cl.add("correct");
  } else {
    cl.remove("correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol>0){
    var tol = JSON.parse(this.dataset.tol);  
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("correct");
    } else {
      cl.remove("correct");
    }  
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("correct");
    }  
  }
  
  update_total_correct();
}

window.onload = function() {
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('solution')) {
      buttons[i].onclick = b_func;
    }
  }
  
  /* set up solveme inputs */
  var solveme = document.getElementsByClassName("solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off"); 
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";
    
    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;
    
    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chapter-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": {},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
